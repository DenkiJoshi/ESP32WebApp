(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{1935:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var i=t(7876),n=t(4232);let c=(0,t(7152).UU)("https://jcsetiikvpisbqcmhyoy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impjc2V0aWlrdnBpc2JxY21oeW95Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAzNTg3MjQsImV4cCI6MjA2NTkzNDcyNH0.ntRguNMGUQO48uLTgNnxc2ziQuU8E7yXxD62F_8eSWY");function a(){let[e,s]=(0,n.useState)(!1),[t,a]=(0,n.useState)(!1),l=async()=>{let{data:e,error:t}=await c.from("device_status").select("switch_state").order("created_at",{ascending:!1}).limit(1).single();e&&s(e.switch_state)},r=async()=>{let{error:e}=await c.from("device_command").insert([{led_command:!t}]);e?console.error("❌ Supabase insert failed:",e.message):a(!t)},d=async()=>{let{data:e,error:s}=await c.from("device_command").select("led_command").order("created_at",{ascending:!1}).limit(1).single();e&&a(e.led_command)};return(0,n.useEffect)(()=>{l(),d();let e=setInterval(()=>{l(),d()},5e3);return()=>clearInterval(e)},[]),(0,i.jsxs)("main",{style:{padding:20},children:[(0,i.jsx)("h1",{children:"ESP32 Control Panel"}),(0,i.jsxs)("p",{children:["\uD83E\uDE9B スイッチの状態：",e?"OFF":"ON"]}),(0,i.jsxs)("p",{children:["\uD83D\uDCA1 現在のLED状態：",t?"ON":"OFF"]}),(0,i.jsxs)("button",{onClick:r,children:["\uD83D\uDCA1 LEDを ",t?"OFFにする":"ONにする"]})]})}},2936:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1935)}])}},e=>{var s=s=>e(e.s=s);e.O(0,[152,636,593,792],()=>s(2936)),_N_E=e.O()}]);